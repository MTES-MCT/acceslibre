{% load a4a %}
{% load static %}

{% if fields %}
<ul class="p-0 m-0">
  {% for field in fields %}
  {% if field.value != "" and field.value is not None %}
  <li class="a11y-field border-bottom">
    {% if field.template_name == "django/forms/widgets/textarea.html" %}
      <h3 class="h6 m-0 p-0 font-weight-normal">
        <i aria-hidden="true" class="icon icon-bubble"></i>
        {{ field.label }}
      </h3>
      <blockquote class="a4a-comment-block mb-0 my-1">
        {{ field.value|urlizetrunc:25|linebreaks }}
      </blockquote>
    {% else %}
      <h4 class="a11y-field h6 m-0 p-0 font-weight-normal">
        <!-- {{ field.name }} -->
        {% if field.warning %}
          <span class="sr-only">Attention :</span>
        {% endif %}
        {{ field.label }}
        {% if field.values %}:
          {% for val in field.values %}
          {% if val|startswith:"http" %}
          <a href="{{ val }}" target="_blank" rel="noopener noreferrer">{{ val|truncatechars_html:30 }}</a>
          {% else %}
          <strong>{{ val }}</strong>
          {% endif %}
          {% if not forloop.last %} - {% endif %}
          {% endfor %}
        {% endif %}
      </h4>
    {% endif %}
  </li>
  {% endif %}
  {% endfor %}
</ul>
{% else %}
<p>Aucune information.</p>
{% endif %}
