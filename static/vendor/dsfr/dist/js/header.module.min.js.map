{"version":3,"file":"header.module.min.js","sources":["../../src/core/config.js","../../src/core/api.js","../../src/header/scripts/header/constants.js","../../src/header/scripts/header/header.js","../../src/header/index.js","../../src/header/scripts/module.js","../../src/header/scripts/header/build.js"],"sourcesContent":["export const prefix = 'fr';\r\nexport const namespace = 'dsfr';\r\nexport const organisation = '@gouvfr';\r\n","import { namespace } from './config.js';\n\nconst api = window[namespace] || { core: {} };\nwindow[namespace] = api;\nexport default api;\n","import api from '../../api.js';\n\nexport const HEADER_SELECTOR = api.core.ns.selector('header');\nexport const HEADER_SEARCH_SELECTOR = api.core.ns.selector('header__search');\nexport const HEADER_MENU_SELECTOR = api.core.ns.selector('header__menu');\nexport const HEADER_TOOLS_LINKS_SELECTOR = api.core.ns.selector('header__tools-links');\nexport const HEADER_MENU_LINKS_SELECTOR = api.core.ns.selector('header__menu-links');\nexport const HEADER_LINKS_GROUP_SELECTOR = `${HEADER_TOOLS_LINKS_SELECTOR} ${api.core.ns.selector('links-group')}`;\n","import api from '../../api.js';\nimport {\n  HEADER_MENU_SELECTOR,\n  HEADER_SEARCH_SELECTOR,\n  HEADER_SELECTOR,\n  HEADER_LINKS_GROUP_SELECTOR,\n  HEADER_TOOLS_LINKS_SELECTOR,\n  HEADER_MENU_LINKS_SELECTOR\n} from './constants';\n\nclass Header {\n  constructor (header) {\n    this.header = header || document.querySelector(HEADER_SELECTOR);\n    this.modals = [];\n\n    this.init();\n  }\n\n  getModal (selector) {\n    const element = this.header.querySelector(selector);\n    if (!element) return;\n    const modals = api.core.Instance.getInstances(element, api.Modal);\n    if (!modals || !modals.length) return;\n    this.modals.push(new HeaderModal(modals[0]));\n  }\n\n  init () {\n    this.getModal(HEADER_SEARCH_SELECTOR);\n    this.getModal(HEADER_MENU_SELECTOR);\n\n    this.linksGroup = this.header.querySelector(HEADER_LINKS_GROUP_SELECTOR);\n\n    this.toolsLinks = this.header.querySelector(HEADER_TOOLS_LINKS_SELECTOR);\n    this.menuLinks = this.header.querySelector(HEADER_MENU_LINKS_SELECTOR);\n\n    this.changing = this.change.bind(this);\n\n    window.addEventListener('resize', this.changing);\n    this.change();\n  }\n\n  change () {\n    this.isLarge = window.matchMedia('(min-width: 62em)').matches;\n\n    if (this.isLarge) this.modals.forEach((modal) => modal.disable());\n    else this.modals.forEach((modal) => modal.enable());\n\n    if (this.linksGroup !== null) {\n      if (this.isLarge) this.toolsLinks.appendChild(this.linksGroup);\n      else this.menuLinks.appendChild(this.linksGroup);\n    }\n  }\n}\n\nclass HeaderModal {\n  constructor (modal) {\n    this.modal = modal;\n  }\n\n  enable () {\n    this.modal.element.setAttribute('role', 'dialog');\n    this.modal.element.setAttribute('aria-labelledby', this.modal.primary.element.id);\n  }\n\n  disable () {\n    this.modal.conceal();\n    this.modal.element.removeAttribute('role');\n    this.modal.element.removeAttribute('aria-labelledby');\n  }\n}\n\nexport { Header };\n","import api from './api.js';\nimport { Header } from './scripts/header/header';\n\napi.Header = Header;\n\nexport default api;\n","/* eslint-disable no-new */\nimport api from '../api.js';\nimport { HEADER_SELECTOR } from './header/constants.js';\nimport { build } from './header/build.js';\n\nnew api.core.Initializer(HEADER_SELECTOR, [build]);\n","import { Header } from './header.js';\nimport { HEADER_SELECTOR } from './constants';\n\nconst build = () => {\n  const elements = Array.prototype.slice.call(document.querySelectorAll(HEADER_SELECTOR));\n\n  const headers = [];\n\n  for (const element of elements) headers.push(new Header(element));\n};\n\nexport { build };\n"],"names":["api","window","core","HEADER_SELECTOR","ns","selector","HEADER_SEARCH_SELECTOR","HEADER_MENU_SELECTOR","HEADER_TOOLS_LINKS_SELECTOR","HEADER_MENU_LINKS_SELECTOR","HEADER_LINKS_GROUP_SELECTOR","Header","[object Object]","header","this","document","querySelector","modals","init","element","Instance","getInstances","Modal","length","push","HeaderModal","getModal","linksGroup","toolsLinks","menuLinks","changing","change","bind","addEventListener","isLarge","matchMedia","matches","forEach","modal","disable","enable","appendChild","setAttribute","primary","id","conceal","removeAttribute","Initializer","elements","Array","prototype","slice","call","querySelectorAll","headers"],"mappings":";AACO,MCCDA,EAAMC,OAAgB,MAAK,CAAEC,KAAM,IACzCD,OAAgB,KAAID,ECDb,MAAMG,EAAkBH,EAAIE,KAAKE,GAAGC,SAAS,UACvCC,EAAyBN,EAAIE,KAAKE,GAAGC,SAAS,kBAC9CE,EAAuBP,EAAIE,KAAKE,GAAGC,SAAS,gBAC5CG,EAA8BR,EAAIE,KAAKE,GAAGC,SAAS,uBACnDI,EAA6BT,EAAIE,KAAKE,GAAGC,SAAS,sBAClDK,EAA8B,GAAGF,KAA+BR,EAAIE,KAAKE,GAAGC,SAAS,iBCGlG,MAAMM,EACJC,YAAaC,GACXC,KAAKD,OAASA,GAAUE,SAASC,cAAcb,GAC/CW,KAAKG,OAAS,GAEdH,KAAKI,OAGPN,SAAUP,GACR,MAAMc,EAAUL,KAAKD,OAAOG,cAAcX,GAC1C,IAAKc,EAAS,OACd,MAAMF,EAASjB,EAAIE,KAAKkB,SAASC,aAAaF,EAASnB,EAAIsB,OACtDL,GAAWA,EAAOM,QACvBT,KAAKG,OAAOO,KAAK,IAAIC,EAAYR,EAAO,KAG1CL,OACEE,KAAKY,SAASpB,GACdQ,KAAKY,SAASnB,GAEdO,KAAKa,WAAab,KAAKD,OAAOG,cAAcN,GAE5CI,KAAKc,WAAad,KAAKD,OAAOG,cAAcR,GAC5CM,KAAKe,UAAYf,KAAKD,OAAOG,cAAcP,GAE3CK,KAAKgB,SAAWhB,KAAKiB,OAAOC,KAAKlB,MAEjCb,OAAOgC,iBAAiB,SAAUnB,KAAKgB,UACvChB,KAAKiB,SAGPnB,SACEE,KAAKoB,QAAUjC,OAAOkC,WAAW,qBAAqBC,QAElDtB,KAAKoB,QAASpB,KAAKG,OAAOoB,SAASC,GAAUA,EAAMC,YAClDzB,KAAKG,OAAOoB,SAASC,GAAUA,EAAME,WAElB,OAApB1B,KAAKa,aACHb,KAAKoB,QAASpB,KAAKc,WAAWa,YAAY3B,KAAKa,YAC9Cb,KAAKe,UAAUY,YAAY3B,KAAKa,cAK3C,MAAMF,EACJb,YAAa0B,GACXxB,KAAKwB,MAAQA,EAGf1B,SACEE,KAAKwB,MAAMnB,QAAQuB,aAAa,OAAQ,UACxC5B,KAAKwB,MAAMnB,QAAQuB,aAAa,kBAAmB5B,KAAKwB,MAAMK,QAAQxB,QAAQyB,IAGhFhC,UACEE,KAAKwB,MAAMO,UACX/B,KAAKwB,MAAMnB,QAAQ2B,gBAAgB,QACnChC,KAAKwB,MAAMnB,QAAQ2B,gBAAgB,oBChEvC9C,EAAIW,OAASA,ECEb,IAAIX,EAAIE,KAAK6C,YAAY5C,EAAiB,CCF5B,KACZ,MAAM6C,EAAWC,MAAMC,UAAUC,MAAMC,KAAKrC,SAASsC,iBAAiBlD,IAEhEmD,EAAU,GAEhB,IAAK,MAAMnC,KAAW6B,EAAUM,EAAQ9B,KAAK,IAAIb,EAAOQ"}