/*! DSFR v1.0.0 | SPDX-License-Identifier: MIT | License-Filename: LICENCE.md | restricted use (see terms and conditions) */
const e=window.dsfr||{core:{}};window.dsfr=e;const t=e.core.ns.selector("header"),s=e.core.ns.selector("header__search"),i=e.core.ns.selector("header__menu"),r=e.core.ns.selector("header__tools-links"),o=e.core.ns.selector("header__menu-links"),l=`${r} ${e.core.ns.selector("links-group")}`;class n{constructor(e){this.header=e||document.querySelector(t),this.modals=[],this.init()}getModal(t){const s=this.header.querySelector(t);if(!s)return;const i=e.core.Instance.getInstances(s,e.Modal);i&&i.length&&this.modals.push(new a(i[0]))}init(){this.getModal(s),this.getModal(i),this.linksGroup=this.header.querySelector(l),this.toolsLinks=this.header.querySelector(r),this.menuLinks=this.header.querySelector(o),this.changing=this.change.bind(this),window.addEventListener("resize",this.changing),this.change()}change(){this.isLarge=window.matchMedia("(min-width: 62em)").matches,this.isLarge?this.modals.forEach((e=>e.disable())):this.modals.forEach((e=>e.enable())),null!==this.linksGroup&&(this.isLarge?this.toolsLinks.appendChild(this.linksGroup):this.menuLinks.appendChild(this.linksGroup))}}class a{constructor(e){this.modal=e}enable(){this.modal.element.setAttribute("role","dialog"),this.modal.element.setAttribute("aria-labelledby",this.modal.primary.element.id)}disable(){this.modal.conceal(),this.modal.element.removeAttribute("role"),this.modal.element.removeAttribute("aria-labelledby")}}e.Header=n;new e.core.Initializer(t,[()=>{const e=Array.prototype.slice.call(document.querySelectorAll(t)),s=[];for(const t of e)s.push(new n(t))}]);
//# sourceMappingURL=header.module.min.js.map
